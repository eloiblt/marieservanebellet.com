<div class="grid-content">
  <div class="grid-top-container">
    <div [ngClass]="{'go-back': true, 'show': show}" [routerLink]="['/galerie']">
      <i class="fas fa-arrow-left"></i>
      <p id="hello" #myElem > Choisir une autre catégorie</p>
    </div>
  </div>

  <div *ngIf="!loading" [ngClass]="{'grid': true }">
    <div *ngFor="let p of pictures"
      [ngClass]="{'unite': true, 'show': isLoaded(p.id), 'hide-label': !p.title, 'rectangle': isRectangleOrVertical(p.gridColumn), 'vertical': isRectangleOrVertical(p.gridrow)}"
      [ngStyle]="{'grid-row': p.gridrow, 'grid-column': p.gridColumn}">
      <div class="img-container">
        <img src="{{basePicturePath + p.url}}" loading="lazy" (load)="loaded(p.id)" alt="{{ p.title }}">
        <div class="middle" (click)="showImage(p)">Aperçu</div>
      </div>
      <div class="label" *ngIf="p.title">
        <p>{{ p.title }}</p>
        <p>{{ p.size }} - {{ p.date }}</p>
      </div>
    </div>
  </div>
</div>

<div *ngIf="clickedPicture" (click)="closeModal()" [ngClass]="{'modal': true, 'hideLabel': !clickedPicture.title}">
  <span (click)="closeModal()" class="close">&times;</span>
  <img src="{{basePicturePath + clickedPicture.url}}" alt="{{ clickedPicture.title }}" (load)="showModal = true"
    [ngClass]="{'show': showModal}">
  <div class="label" *ngIf="clickedPicture.title">
    <p>{{ clickedPicture.title }}</p>
    <p>{{ clickedPicture.size }} - {{ clickedPicture.date }}</p>
  </div>
</div>