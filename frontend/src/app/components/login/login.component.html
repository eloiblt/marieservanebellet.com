<div class="admin-login">
  <div class="inputs">
    <h1>Connexion</h1>
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <label for="mail">Mail</label>
      <input id="mail" type="email" formControlName="mail" />

      @if (mail?.invalid && (mail?.dirty || mail?.touched)) {
        <div class="errors">
          @if (mail?.errors?.['required']) {
            <div>
              Le mail est requis
            </div>
          }
          @if (mail?.errors?.['email']) {
            <div>
              Le mail est invalide
            </div>
          }
        </div>
      }

      <label for="password">Mot de passe</label>
      <input id="password" type="password" formControlName="password" />

      @if (password?.invalid && (password?.dirty || password?.touched)) {
        <div class="errors">
          @if (password?.errors?.['required']) {
            <div>
              Le mot de passe est requis
            </div>
          }
          @if (password?.errors?.['minlength']) {
            <div>
              Le mot de passe doit comporter au moins 8 caract√®res
            </div>
          }
        </div>
      }

      @if (error) {
        <div class="error-http">
          Erreur de login ou mot de passe
        </div>
      }

      <button type="submit" [disabled]="password?.invalid || mail?.invalid">Se connecter</button>
    </form>
  </div>
</div>
